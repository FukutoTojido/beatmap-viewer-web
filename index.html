<body>
    <link rel="stylesheet" href="/src/app/style.css" />
    <div class="absolute top-0 left-0 w-full h-full bg-black/50 backdrop-blur-lg"></div>
    <main>
        <div class="relative w-full min-h-[50px] shrink-0 flex items-center gap-2.5" id="topBar">
            <div class="flex items-center gap-2.5 h-full">
                <button
                    class="min-h-10 h-full px-5 rounded-full bg-black/40 hover:bg-white/10 cursor-pointer transition"
                    id="settingsButton">
                    <i class="ri-settings-3-fill text-white text-[24px]"></i>
                </button>
                <div class="flex items-center h-full has-focus-within:outline-2 has-focus-within:outline-text rounded-full min-h-10"
                    id="search">
                    <input type="text" name="" id="idInput"
                        class="min-w-[264px] h-full rounded-full rounded-r-none focus-within:outline-0 bg-black/40 px-5 placeholder:text-white/60 text-white text-xs flex-1"
                        placeholder="Open beatmap with id">
                    <button class="h-full pr-5 rounded-full rounded-l-none bg-black/40" tabindex="-1" id="submitId">
                        <i class="ri-search-line text-white text-[24px]"></i>
                    </button>
                </div>
                <label for="fileInput"
                    class="h-full p-5 rounded-full bg-black/40 hover:bg-white/10 cursor-pointer text-white aspect-square flex items-center justify-center transition">
                    <i class="ri-folder-add-fill"></i>
                    <input type="file" name="fileInput" id="fileInput" hidden />
                </label>
            </div>
            <div class="flex items-center flex-1 gap-2.5 h-full">
                <div class="flex-1 flex flex-col px-5" id="metadata">
                    <div class="text-sm font-medium text-white line-clamp-1" id="title">Artist - Title</div>
                    <div class="text-xs text-white line-clamp-1" id="mapper">by Mapper</div>
                </div>
                <label for="diffs" class="relative h-full min-h-[50px] w-[320px] text-xs" id="diffsLabel">
                    <button id="diffs" class="hidden flyout-toggle"></button>
                    <div
                        class="relative w-full h-full min-h-[50px] bg-black/40 flex items-center gap-2.5 rounded-full px-5 hover:bg-white/10 transition-colors cursor-pointer text-white select-none z-[100]">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"
                            id="extraMode">
                            <g clip-path="url(#clip0_1_34)">
                                <rect x="1" y="1" width="18" height="18" rx="9" stroke="white" stroke-width="2" />
                                <rect x="5" y="5" width="10" height="10" rx="5" fill="white" />
                            </g>
                            <defs>
                                <clipPath id="clip0_1_34">
                                    <rect width="20" height="20" fill="white" />
                                </clipPath>
                            </defs>
                        </svg>
                        <span id="masterDiff" class="flex-1 text-left truncate">Choose Difficulty</span>
                        <span id="masterSR">SR★</span>
                    </div>
                    <div id="diffsContainer"
                        class="flyout absolute w-full min-w-max top-[100%] right-0 mt-2.5 bg-black/40 backdrop-blur-2xl p-2.5 rounded-[20px] z-99 flex-col gap-[5px] hidden max-h-[50vh] overflow-auto">
                    </div>
                </label>
            </div>
        </div>
        <div id="app" class="relative w-full flex-1 overflow-hidden"></div>
        <div class="absolute bottom-0 right-0 invisible" id="a"></div>
        <!-- <div class="absolute bottom-[120px] left-0 right-0 mx-auto flex items-center flex-col justify-end toasts">
            <div
                class="w-[320px] p-5 min-h-[50px] bg-base border-surface-1 rounded-xl drop-shadow-lg text-text text-sm flex items-center gap-2.5">
                <div class="flex-1">
                    Test 1
                </div>
            </div>
            <div
                class="w-[320px] p-5 min-h-[50px] bg-surface-0 border-surface-1 rounded-xl drop-shadow-lg text-text text-sm flex items-center gap-2.5">
                <div class="flex-1">
                    Test 2
                </div>
            </div>
            <div
                class="w-[320px] p-5 min-h-[50px] bg-surface-1 border-surface-1 rounded-xl drop-shadow-lg text-text text-sm flex items-center gap-2.5">
                <div class="flex-1">
                    Test 3
                </div>
            </div>
            <div
                class="w-[320px] p-5 min-h-[50px] bg-base border-surface-1 rounded-xl drop-shadow-lg text-text text-sm flex items-center gap-2.5">
                <div class="flex-1">
                    Test 4
                </div>
            </div>
        </div> -->
        <div class="fixed top-0 left-0 w-full h-full bg-black/50 overlayHidden" id="overlay"></div>
    </main>
    <div class="fixed top-0 w-[600px] max-w-[80vw] h-svh overflow-auto bg-crust flex flex-col gap-2.5 text-text"
        id="settings">
        <div class="bg-base p-10 flex flex-col w-full">
            <div class="font-medium text-3xl">Settings</div>
            <div>Change how JoSu! behaves</div>
        </div>
        <div class="bg-base p-10 flex flex-col w-full gap-5">
            <div class="font-medium">Skinning</div>
            <label for="skins" class="relative h-full min-h-[50px] w-full text-xs" id="skinsLabel">
                <button id="skins" class="hidden flyout-toggle"></button>
                <div
                    class="w-full h-full bg-black/40 flex items-center gap-2.5 rounded-full px-5 hover:bg-white/10 transition-colors cursor-pointer text-text select-none">
                    <span id="currentSkin" class="flex-1 text-left truncate">Current Skin</span>
                </div>
                <div id="skinsContainer"
                    class="flyout absolute w-full top-[100%] left-0 mt-2.5 bg-black/40 backdrop-blur-2xl p-2.5 rounded-[20px] z-99 flex-col gap-[5px] hidden max-h-[50vh] overflow-auto">
                </div>
            </label>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <label class="font-normal flex-1 cursor-pointer" for="disableBeatmapSkin" tabindex="-1">Ignore
                        beatmap skin</label>
                    <input type="checkbox" name="disableBeatmapSkin" id="disableBeatmapSkin">
                </div>
            </div>
        </div>
        <div class="bg-base p-10 flex flex-col w-full gap-5">
            <div class="font-medium">Gameplay</div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <label class="font-normal flex-1 cursor-pointer" for="grid" tabindex="-1">Show Grid</label>
                    <input type="checkbox" name="grid" id="grid">
                </div>
            </div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <label class="font-normal flex-1 cursor-pointer" for="snakeIn" tabindex="-1">Snaking In
                        Slider</label>
                    <input type="checkbox" name="snakeIn" id="snakeIn">
                </div>
            </div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <label class="font-normal flex-1 cursor-pointer" for="snakeOut" tabindex="-1">Snaking Out
                        Slider</label>
                    <input type="checkbox" name="snakeOut" id="snakeOut">
                </div>
            </div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <label class="font-normal flex-1 cursor-pointer" for="hitAnim" tabindex="-1">Hit Animation</label>
                    <input type="checkbox" name="hitAnim" id="hitAnim">
                </div>
            </div>
        </div>
        <div class="bg-base p-10 flex flex-col w-full gap-5">
            <div class="font-medium">Background</div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <div class="font-normal">Background Dim</div>
                    <label for="backgroundDim">100%</label>
                </div>
                <input type="range" name="backgrounđDim" id="backgroundDim" min="0" max="100" step="1" tabindex="-1">
            </div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <div class="font-normal">Background Blur</div>
                    <label for="backgroundBlur">100%</label>
                </div>
                <input type="range" name="backgroundBlur" id="backgroundBlur" min="0" max="100" step="1" tabindex="-1">
            </div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <label class="font-normal flex-1 cursor-pointer" for="video" tabindex="-1">Show Video</label>
                    <input type="checkbox" name="video" id="video">
                </div>
            </div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <label class="font-normal flex-1 cursor-pointer" for="storyboard">Show Storyboard</label>
                    <input type="checkbox" name="storyboard" id="storyboard" tabindex="-1">
                </div>
            </div>
        </div>
        <div class="bg-base p-10 flex flex-col w-full gap-5">
            <div class="font-medium">Audio</div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <div class="font-normal">Master Volume</div>
                    <label for="masterVolume">100%</label>
                </div>
                <input type="range" name="masterVolume" id="masterVolume" min="0" max="1" step="0.01" tabindex="-1">
            </div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <div class="font-normal">Music Volume</div>
                    <label for="musicVolume">100%</label>
                </div>
                <input type="range" name="musicVolume" id="musicVolume" min="0" max="1" step="0.01" tabindex="-1">
            </div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <div class="font-normal">Effect Volume</div>
                    <label for="effectVolume">100%</label>
                </div>
                <input type="range" name="effectVolume" id="effectVolume" min="0" max="1" step="0.01" tabindex="-1">
            </div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <label class="font-normal flex-1 cursor-pointer" for="hitsound">Disable beatmap hitsound</label>
                    <input type="checkbox" name="hitsound" id="hitsound" tabindex="-1">
                </div>
            </div>
        </div>
        <div class="bg-base p-10 flex flex-col w-full gap-5">
            <div class="font-medium">Beatmap Mirror</div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm gap-2.5">
                    <input type="radio" name="beatmapMirror" id="mirror-nerinyan" value="Nerinyan"
                        data-url="https://api.nerinyan.moe/d/$setId" tabindex="-1">
                    <label class="font-normal flex-1 cursor-pointer flex flex-col" for="mirror-nerinyan">
                        <span>Nerinyan</span>
                    </label>
                </div>
                <div class="flex items-center justify-between w-full text-sm gap-2.5">
                    <input type="radio" name="beatmapMirror" id="mirror-catboy" value="Catboy"
                        data-url="https://catboy.best/d/$setId" tabindex="-1">
                    <label class="font-normal flex-1 cursor-pointer flex flex-col" for="mirror-catboy">
                        <span>Catboy</span>
                    </label>
                </div>
            </div>
        </div>
        <div class="bg-base p-10 flex flex-col w-full gap-5">
            <div class="font-medium">Experimental</div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <label class="font-normal flex-1 cursor-pointer flex flex-col" for="asyncLoading">
                        <span>Asynchronous Loading</span>
                        <span class="text-xs">Load beatmap asynchronously for responsiveness</span>
                    </label>
                    <input type="checkbox" name="asyncLoading" id="asyncLoading" tabindex="-1">
                </div>
            </div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <label class="font-normal flex-1 cursor-pointer flex flex-col" for="antialiasing">
                        <span>Antialiasing</span>
                        <span class="text-xs">Might cause performance issues on lower-end devices</span>
                    </label>
                    <input type="checkbox" name="antialiasing" id="antialiasing" tabindex="-1">
                </div>
            </div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <label class="font-normal flex-1 cursor-pointer flex flex-col" for="overlapGameplays">
                        <span>Overlap gameplays in multi-mode</span>
                    </label>
                    <input type="checkbox" name="overlapGameplays" id="overlapGameplays" tabindex="-1">
                </div>
            </div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <label class="font-normal flex-1 cursor-pointer flex flex-col" for="modsHD">
                        <span>Hidden</span>
                    </label>
                    <input type="checkbox" name="modsHD" id="modsHD" tabindex="-1">
                </div>
            </div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <label class="font-normal flex-1 cursor-pointer flex flex-col" for="modsHR">
                        <span>Hard Rock</span>
                    </label>
                    <input type="checkbox" name="modsHR" id="modsHR" tabindex="-1">
                </div>
            </div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <label class="font-normal flex-1 cursor-pointer flex flex-col" for="modsDT">
                        <span>Double Time</span>
                    </label>
                    <input type="checkbox" name="modsDT" id="modsDT" tabindex="-1">
                </div>
            </div>
            <div class="flex flex-col w-full gap-2.5">
                <div class="flex items-center justify-between w-full text-sm">
                    <label for="reloadDefaultSkins" class="relative h-full min-h-[50px] w-full text-xs">
                        <button id="reloadDefaultSkins"
                            class="w-full h-full bg-crust flex items-center gap-2.5 rounded-full px-5 hover:bg-text transition-colors cursor-pointer text-text hover:text-base select-none">
                            <span id="currentSkin" class="flex-1 text-center truncate">Reload default skins</span>
                        </button>
                    </label>
                </div>
            </div>
        </div>
        <div class="bg-base p-10 flex flex-col w-full gap-5">
            <div class="flex flex-col">
                <div class="font-medium">About me</div>
                <span class="text-xs">In case you wanna contact me :D</span>
            </div>
            <div class="flex gap-2.5">
                <a href="https://osu.ppy.sh/users/8266808" target="_blank" rel="noopener noreferrer"
                    class="p-2 rounded-lg bg-mantle text-text visited:text-text flex gap-2.5 px-5 hover:bg-surface-0 transition text-sm items-center text-center">
                    <i class="ri-user-3-fill"></i><span class="contactLabel">ANON TOKYO</span>
                </a>
                <a href="https://github.com/FukutoTojido" target="_blank" rel="noopener noreferrer"
                    class="p-2 rounded-lg bg-mantle text-text visited:text-text flex gap-2.5 px-5 hover:bg-surface-0 transition text-sm items-center text-center">
                    <i class="ri-github-fill"></i><span class="contactLabel">FukutoTojido</span>
                </a>
                <a href="https://twitter.com/FukutoTojido" target="_blank" rel="noopener noreferrer"
                    class="p-2 rounded-lg bg-mantle text-text visited:text-text flex gap-2.5 px-5 hover:bg-surface-0 transition text-sm items-center text-center">
                    <i class="ri-twitter-fill"></i><span class="contactLabel">@FukutoTojido</span>
                </a>
            </div>
        </div>
    </div>
    <div class="absolute w-full h-full top-0 left-0 flex items-center justify-center gap-2.5 bg-black/50 z-[999]"
        id="loading">
        <span class="loader scale-50"></span>
        <div class="flex flex-col">
            <div class="font-medium text-lg">JoSu! is loading</div>
            <div id="loadingText" class="text-sm">
                Initiating
            </div>
        </div>
    </div>
    <script type="module" src="/src/app/index.ts"></script>
</body>